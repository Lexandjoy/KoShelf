<!-- Activity Heatmap Section -->
<section class="mb-8">
    <div class="flex items-center justify-between mb-4 md:mb-6">
        <div class="flex items-center space-x-3">
            <div class="w-2 h-6 md:h-8 bg-gradient-to-b from-green-400 to-green-600 rounded-full"></div>
            <h2 class="text-xl md:text-2xl font-bold text-white">Reading Activity</h2>
        </div>
        
        <!-- Year Selector (moved inline with header) -->
        {% include "statistics/components/year_selector.html" %}
    </div>
    
    <div class="bg-dark-800 rounded-xl p-3 sm:p-4 md:p-5 border border-dark-700/30">
        <!-- Fixed weekday labels and scrollable content -->
        <div class="flex">
            <!-- Fixed weekday labels -->
            <div class="text-xs text-dark-400 font-medium w-8 sm:w-12 flex-shrink-0 pr-2 sm:pr-4">
                <div class="h-6 mb-3"></div> <!-- Spacer for month labels -->
                <div class="flex flex-col justify-between text-right" id="dayLabels">
                    <div>Mon</div>
                    <div>Thu</div>
                    <div>Sun</div>
                </div>
            </div>
            
            <!-- Scrollable heatmap content -->
            <div class="flex-1 min-w-0 overflow-x-auto" id="heatmapScrollContainer">
                <div class="heatmap-container min-w-[680px] sm:min-w-[850px] md:min-w-[900px] lg:min-w-[1100px] xl:min-w-[1200px] 2xl:min-w-[1400px]" id="readingHeatmap">
                    <div class="flex mb-3 mt-2 text-xs text-dark-400 font-medium">
                        <!-- Month labels -->
                        <div class="flex w-full justify-between">
                            <div class="w-8 text-center">Jan</div>
                            <div class="w-8 text-center">Feb</div>
                            <div class="w-8 text-center">Mar</div>
                            <div class="w-8 text-center">Apr</div>
                            <div class="w-8 text-center">May</div>
                            <div class="w-8 text-center">Jun</div>
                            <div class="w-8 text-center">Jul</div>
                            <div class="w-8 text-center">Aug</div>
                            <div class="w-8 text-center">Sep</div>
                            <div class="w-8 text-center">Oct</div>
                            <div class="w-8 text-center">Nov</div>
                            <div class="w-8 text-center">Dec</div>
                        </div>
                    </div>
                    
                    <!-- Heatmap grid -->
                    <div class="grid grid-cols-53 gap-1 w-full" id="heatmapGrid">
                        {% for week in (0..53) %}
                            <div class="grid grid-rows-7 gap-1 sm:gap-1 md:gap-1 xl:gap-1.5 2xl:gap-1.5">
                                {% for day in (0..7) %}
                                    <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-3.5 md:h-3.5 lg:w-4 lg:h-4 2xl:w-5 2xl:h-5 rounded-sm bg-dark-700 activity-cell" 
                                         data-week="{{ week }}" 
                                         data-day="{{ day }}"></div>
                                {% endfor %}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Fixed legend -->
        <div class="flex items-center justify-end mt-4 space-x-2 text-xs">
            <span class="text-dark-400">Less</span>
            <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 rounded-sm bg-dark-700"></div>
            <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 rounded-sm bg-green-900"></div>
            <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 rounded-sm bg-green-700"></div>
            <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 rounded-sm bg-green-500"></div>
            <div class="w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 rounded-sm bg-green-300"></div>
            <span class="text-dark-400">More</span>
        </div>
    </div>
</section>